<!DOCTYPE html>
<html>
<head>
	<title>Photos</title>
	<link rel='stylesheet' type='text/css' href='/bootstrap/dist/css/bootstrap.css' />
	<link rel='stylesheet' type='text/css' href='client.css' />
	<script src='/jquery/dist/jquery.js'></script>
	<script src='/momentjs/moment.js'></script>
	<script src='/filesize/lib/filesize.js'></script>
	<script src='/socket.io/socket.io.js'></script>
	<script src='/handlebars/handlebars.js'></script>
	<script src='/underscore/underscore.js'></script>
	<script src='/backbone/backbone.js'></script>
	<script src='/socket.io/backbone.io.js'></script>
	<script src='/client.js'></script>
</head>
<body>
	<div class="container">
		<div class="page-header">
			<h1>Photos</h1>
			<span class="label label-success connected"><i class="glyphicon glyphicon-ok-circle"></i> Connected</span>
			<span class="hidden label label-danger disconnected"><i class="glyphicon glyphicon-remove-circle"></i> Can't connect to server</span>
		</div>
		<div class="row">
			<div class="col-xs-8">
				<div id="photos" class="row">
					<div id="alert"></div>
					<script id="alert-template" type="text/x-handlebars-template">
						<div class="alert alert-{{type}} alert-dismissable">
							<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
							{{message}}
						</div>
					</script>
					<script id="photo-template" type="text/x-handlebars-template">
					<div class="panel panel-default">
						<div class="panel-body">
							<img class="img-responsive" src="{{thumbnail}}" />
							<p>
								<small><strong>Created</strong> {{date created "h:mm:ssa M/D/YY"}}</small></br>
								<small><strong>Filesize</strong> {{fsize filesize}}</small></br>
								<small><strong>Size</strong> {{dimensions.width}}px x {{dimensions.height}}px</small>
							</p>
							<div class="btn-group btn-group-xs">
								{{#unless requested}}
									<button type="button" class="btn btn-default request-full"><i class="glyphicon glyphicon-import"></i> Request</button>
								{{/unless}}
								{{#if full}}
									<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-download-alt"></i> Download</button>
								{{/if}}
								<button type="button" class="inspect btn btn-default"><i class="glyphicon glyphicon-zoom-in"></i> Inspect</button>
							</div>
						</div>
					</div>
					</script>
				</div>
			</div>
			<div class="col-xs-4">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Inspector</h3>
					</div>
					<div class="panel-body">
						<script id="inspector-template" type="text/x-handlebars-template">
							<img src="{{thumbnail}}" />
							<p>
								<small><strong>File ID</strong> {{fileid}}</small></br>
								<small><strong>Time created</strong> {{date created "h:mma"}}</small></br>
								<small><strong>Date created</strong> {{date created "MMMM D, YYYY"}}</small></br>
								<small><strong>Filesize</strong> {{fsize filesize}}</small></br>
								<small><strong>Size</strong> {{dimensions.width}}px x {{dimensions.height}}px</small>
							</p>
							{{#unless requested}}
								<button type="button" class="btn btn-default btn-primary request-full"><i class="glyphicon glyphicon-import"></i> Request file</button>
							{{/unless}}
							{{#if full}}
								<button type="button" class="btn btn-default btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Download</button>
							{{/if}}
						</script>
						<div id="inspector">
							<p>Click <button type="button" class="inspect btn btn-default btn-xs"><i class="glyphicon glyphicon-zoom-in"></i> Inspect</button> on a photo to open it here.</p>
						</div>
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Available downloads</h3>
					</div>
					<div class="panel-body">
						<table class="table table-condensed">
							<thead>
								<tr>
									<th>File ID</th>
									<th>Filesize</th>
									<th></th>
								</tr>
							</thead>
							<tbody id="downloads">
								<td colspan="3">Photos you request will be available here for download once they're sent.</td>
								<script id="downloads-template" type="text/x-handlebars-template">
									<tr>
										<td>{{fileid}}</td>
										<td>{{fsize filesize}}</td>
										<td><button type="button" class="btn btn-default btn-primary btn-xs"><i class="glyphicon glyphicon-download-alt"></i></button></td>
									</tr>
								</script>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>