Handlebars.registerHelper("date",function(a,b){var a=moment(a),c='<time datetime="'+a.toISOString()+'">'+a.format(b)+"</time>";return new Handlebars.SafeString(c)}),Handlebars.registerHelper("fsize",function(a){return new Handlebars.SafeString(filesize(a))}),this.Templates=this.Templates||{},this.Templates.download=Handlebars.template(function(a,b,c,d,e){function f(){return'<i class="glyphicon glyphicon-ok text-success"></i>'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k=this,l="function",m=this.escapeExpression,n=c.helperMissing;return j+="<tr>\n	<td>",g=c["if"].call(b,b&&b.downloaded,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(j+=g),j+="</td>\n	<td>",(h=c.fileid)?g=h.call(b,{hash:{},data:e}):(h=b&&b.fileid,g=typeof h===l?h.call(b,{hash:{},data:e}):h),j+=m(g)+"</td>\n	<td>"+m((h=c.fsize||b&&b.fsize,i={hash:{},data:e},h?h.call(b,b&&b.filesize,i):n.call(b,"fsize",b&&b.filesize,i)))+'</td>\n	<td>\n		<a href="/download/',(h=c._id)?g=h.call(b,{hash:{},data:e}):(h=b&&b._id,g=typeof h===l?h.call(b,{hash:{},data:e}):h),j+=m(g)+'">\n			<button type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-download-alt"></i></button>\n		</a>\n	</td>\n</tr>'}),this.Templates.inspector=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n		<strong>Full file URL</strong> <a href="',(e=c.full)?d=e.call(a,{hash:{},data:b}):(e=a&&a.full,d=typeof e===o?e.call(a,{hash:{},data:b}):e),f+=p(d)+'" target="_blank">',(e=c.full)?d=e.call(a,{hash:{},data:b}):(e=a&&a.full,d=typeof e===o?e.call(a,{hash:{},data:b}):e),f+=p(d)+"</a></br>\n	"}function g(){return'\n	<button type="button" class="btn btn-primary request-full"><i class="glyphicon glyphicon-import"></i> Request file</button>\n'}function h(a,b){var d,e,f="";return f+='\n	<a href="/download/',(e=c._id)?d=e.call(a,{hash:{},data:b}):(e=a&&a._id,d=typeof e===o?e.call(a,{hash:{},data:b}):e),f+=p(d)+'">\n		',d=c["if"].call(a,a&&a.downloaded,{hash:{},inverse:q.program(8,j,b),fn:q.program(6,i,b),data:b}),(d||0===d)&&(f+=d),f+="\n	</a>\n"}function i(){return'\n			<button type="button" class="btn btn-primary download"><i class="glyphicon glyphicon-saved"></i> Redownload</button>\n		'}function j(){return'\n			<button type="button" class="btn btn-primary download"><i class="glyphicon glyphicon-download-alt"></i> Download</button>\n		'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m,n="",o="function",p=this.escapeExpression,q=this,r=c.helperMissing;return n+='<p>\n	<img class="img-responsive" src="',(l=c.thumbnail)?k=l.call(b,{hash:{},data:e}):(l=b&&b.thumbnail,k=typeof l===o?l.call(b,{hash:{},data:e}):l),n+=p(k)+'" />\n</p>\n<p>\n	<strong>File ID</strong> ',(l=c.fileid)?k=l.call(b,{hash:{},data:e}):(l=b&&b.fileid,k=typeof l===o?l.call(b,{hash:{},data:e}):l),n+=p(k)+'</br>\n	<strong>Thumbnail URL</strong> <a href="',(l=c.thumbnail)?k=l.call(b,{hash:{},data:e}):(l=b&&b.thumbnail,k=typeof l===o?l.call(b,{hash:{},data:e}):l),n+=p(k)+'" target="_blank">',(l=c.thumbnail)?k=l.call(b,{hash:{},data:e}):(l=b&&b.thumbnail,k=typeof l===o?l.call(b,{hash:{},data:e}):l),n+=p(k)+"</a></br>\n	",k=c["if"].call(b,b&&b.full,{hash:{},inverse:q.noop,fn:q.program(1,f,e),data:e}),(k||0===k)&&(n+=k),n+="\n	<strong>Time created</strong> "+p((l=c.date||b&&b.date,m={hash:{},data:e},l?l.call(b,b&&b.created,"h:mma",m):r.call(b,"date",b&&b.created,"h:mma",m)))+"</br>\n	<strong>Date created</strong> "+p((l=c.date||b&&b.date,m={hash:{},data:e},l?l.call(b,b&&b.created,"MMMM D, YYYY",m):r.call(b,"date",b&&b.created,"MMMM D, YYYY",m)))+"</br>\n	<strong>Filesize</strong> "+p((l=c.fsize||b&&b.fsize,m={hash:{},data:e},l?l.call(b,b&&b.filesize,m):r.call(b,"fsize",b&&b.filesize,m)))+"</br>\n	<strong>Size</strong> "+p((k=b&&b.dimensions,k=null==k||k===!1?k:k.width,typeof k===o?k.apply(b):k))+"px x "+p((k=b&&b.dimensions,k=null==k||k===!1?k:k.height,typeof k===o?k.apply(b):k))+"px\n</p>\n",k=c.unless.call(b,b&&b.requested,{hash:{},inverse:q.noop,fn:q.program(3,g,e),data:e}),(k||0===k)&&(n+=k),n+="\n",k=c["if"].call(b,b&&b.full,{hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e}),(k||0===k)&&(n+=k),n}),this.Templates.photo=Handlebars.template(function(a,b,c,d,e){function f(){return'\n				<button type="button" class="btn btn-default request-full"><i class="glyphicon glyphicon-import"></i> Request</button>\n			'}function g(a,b){var d,e,f="";return f+='\n				<a href="/download/',(e=c._id)?d=e.call(a,{hash:{},data:b}):(e=a&&a._id,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'">\n					',d=c["if"].call(a,a&&a.downloaded,{hash:{},inverse:p.program(6,i,b),fn:p.program(4,h,b),data:b}),(d||0===d)&&(f+=d),f+="\n				</a>\n			"}function h(){return'\n						<button type="button" class="btn btn-default btn-xs"><i class="glyphicon glyphicon-saved"></i> Redownload</button>\n					'}function i(){return'\n						<button type="button" class="btn btn-default btn-xs"><i class="glyphicon glyphicon-download-alt"></i> Download</button>\n					'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l,m="",n="function",o=this.escapeExpression,p=this,q=c.helperMissing;return m+='<div class="panel panel-default">\n	<div class="panel-body">\n		<p>\n			<img class="img-responsive" src="',(k=c.thumbnail)?j=k.call(b,{hash:{},data:e}):(k=b&&b.thumbnail,j=typeof k===n?k.call(b,{hash:{},data:e}):k),m+=o(j)+'" />\n		</p>\n		<p>\n			<small><strong>Created</strong> '+o((k=c.date||b&&b.date,l={hash:{},data:e},k?k.call(b,b&&b.created,"h:mm:ssa M/D/YY",l):q.call(b,"date",b&&b.created,"h:mm:ssa M/D/YY",l)))+"</small></br>\n			<small><strong>Filesize</strong> "+o((k=c.fsize||b&&b.fsize,l={hash:{},data:e},k?k.call(b,b&&b.filesize,l):q.call(b,"fsize",b&&b.filesize,l)))+"</small></br>\n			<small><strong>Size</strong> "+o((j=b&&b.dimensions,j=null==j||j===!1?j:j.width,typeof j===n?j.apply(b):j))+"px x "+o((j=b&&b.dimensions,j=null==j||j===!1?j:j.height,typeof j===n?j.apply(b):j))+'px</small>\n		</p>\n		<div class="btn-group btn-group-xs">\n			',j=c.unless.call(b,b&&b.requested,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(j||0===j)&&(m+=j),m+="\n			",j=c["if"].call(b,b&&b.full,{hash:{},inverse:p.noop,fn:p.program(3,g,e),data:e}),(j||0===j)&&(m+=j),m+='\n			<button type="button" class="inspect btn btn-default"><i class="glyphicon glyphicon-zoom-in"></i> Inspect</button>\n		</div>\n	</div>\n</div>'});